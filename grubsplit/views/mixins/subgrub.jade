mixin subgrub(subgrub, user, grubowner, completed)
    .row
        .col-md-8
            h4 #{subgrub.owner.name}'s items
        // - if (user._id.equals(grubowner._id) && !completed && !subgrub.owner._id.equals(grubowner._id))
        - if (user._id.equals(grubowner._id) && !completed)
            .col-md-2
                if subgrub.paid
                    button.btn.btn-primary.togglePaid.hasPaid(subGrubId=subgrub._id) Mark Unpaid
                else
                    button.btn.btn-primary.togglePaid.hasNotPaid(subGrubId=subgrub._id) Mark Paid
        - if (user._id.equals(subgrub.owner._id) && !completed)
        .col-md-2
            form.form-horizontal(method='POST', action='/subgrubs/' + subgrub._id +'?_method=GET')
                button.btn.btn-warning(type='submit') Edit SubGrub
        .col-md-2
            form.form-horizontal(method='POST', action='/subgrubs/' + subgrub._id +'?_method=DELETE')
                button.btn.btn-danger(type='submit') Delete SubGrub
    +listGroup('list')
        for item in subgrub.items  
            +listItem
                +listHeading #{item.name}
                    +listText Price: #{item.price}
                    +listText Quantity: #{item.quantity}

//- List group mixins
- var groupType
 
mixin listGroup(type)
    - groupType = type
    case groupType
        when 'list'
            ul.list-group
                block
        default
            .list-group
                block
 
mixin listItem(arg1, arg2)
    case groupType
        when 'list'
            li( class=["list-group-item", arg1] )
                block
        when 'links'
            a( href=arg1, class=["list-group-item", arg2] )
                block
        default
            .list-group-item( class=["list-group-item", arg1] )
                block
 
mixin listHeading
    h4.list-group-item-heading
        block
 
mixin listText
    p.list-group-item-text
        block

